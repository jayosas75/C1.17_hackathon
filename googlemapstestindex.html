<!DOCTYPE html>
<html>
<body>

<h1>My First Google Map</h1>

<div id="googleMap" style="width:100%;height:400px;"></div>

<script>
    var map;
    var marker1;
    var marker2;

    function firstMap() {
        var mapProp= {
            center:new google.maps.LatLng(51.508742,-0.120850),
            zoom:5
        };
        map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

        marker1= new google.maps.Marker({
            position: mapProp.center
        });
        marker2 = new google.maps.Marker({
            position: new google.maps.LatLng(60,10)
        });
        marker1.setMap(map);
        marker2.setMap(map);

        marker1.addListener('click', function(){
            map.panTo(marker2.getPosition());
        })
    }

    function nextMap(){
        console.log('this changed!');
        var mapProp = {
            center: marker2.getPosition(),
            zoom:5
         };

        map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

        marker1 = marker2;
        marker1.setMap(map);

        var randomX = Math.random()*100;
        var randomY = Math.random()*100;

        marker2 = new google.maps.Marker({
            position:new google.maps.LatLng(randomX, randomY)
        });

        marker2.setMap(map);

        marker1.addListener('click', function(){
            map.panTo(marker2.getPosition());
        });
    }


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmKMy1-y559dRSIp5Kjx6gYuTp0qedv18&callback=firstMap"></script>

<button onclick="nextMap()">Go to the next location</button>

</body>
</html>
